{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./app_src/BabylonUtility.ts","webpack:///./app_src/CommonUtility.ts","webpack:///./app_src/UpdateTextNodeWorker.ts"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,kDAA0C,gCAAgC;AAC1E;AACA;;AAEA;AACA;AACA;AACA,gEAAwD,kBAAkB;AAC1E;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAyC,iCAAiC;AAC1E,wHAAgH,mBAAmB,EAAE;AACrI;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;;AAGA;AACA;;;;;;;;;;;;;;;;AClFgD;AAEhD;IAAA;IAsEA,CAAC;IAnEU,uBAAQ,GAAf,UAAgB,EAAmB,EAAE,EAAmB;QACpD,IAAI,EAAE,GAAG,EAAE,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;QACrB,IAAI,EAAE,GAAG,EAAE,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;QACrB,IAAI,EAAE,GAAG,EAAE,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;QAErB,OAAO,IAAI,CAAC,IAAI,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,CAAC;IAClD,CAAC;IAAA,CAAC;IAEK,wBAAS,GAAhB,UAAiB,EAAmB,EAAE,EAAmB;QACrD,OAAO,IAAI,OAAO,CAAC,OAAO,CACtB,EAAE,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,EACX,EAAE,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,EACX,EAAE,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CACd,CAAC;IACN,CAAC;IAAA,CAAC;IAEK,6BAAc,GAArB,UAAsB,EAAmB,EAAE,EAAmB;QAC1D,OAAO,IAAI,OAAO,CAAC,OAAO,CACtB,EAAE,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,EACX,EAAE,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,EACX,EAAE,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CACd,CAAC;IACN,CAAC;IAAA,CAAC;IAEK,+BAAgB,GAAvB,UAAwB,SAAgB,EAAE,SAAgB,EAAE,SAAgB;QAApD,4CAAgB;QAAE,4CAAgB;QAAE,4CAAgB;QACxE,OAAO,IAAI,OAAO,CAAC,OAAO,CACtB,SAAS,CAAC,CAAC,CAAC,4DAAa,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC,CAAC,EAC5C,SAAS,CAAC,CAAC,CAAC,4DAAa,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC,CAAC,EAC5C,SAAS,CAAC,CAAC,CAAC,4DAAa,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC,CAAC,CAC/C,CAAC,SAAS,EAAE,CAAC;IAClB,CAAC;IAAA,CAAC;IAGK,6BAAc,GAArB,UAAsB,QAAyB,EAAE,eAAgC,EAAE,KAAa;QAC5F,QAAQ,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC;QAC1C,QAAQ,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC;QAC1C,QAAQ,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC;IAC9C,CAAC;IAAA,CAAC;IAGK,+BAAgB,GAAvB,UAAwB,QAAyB;QAC7C,IAAM,SAAS,GAAG,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC,GAAG,CAAC,WAAC;YACnC,OAAO,QAAQ,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;QAClC,CAAC,CAAC,CAAC;QACH,OAAO,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAChC,CAAC;IAAA,CAAC;IAGK,iCAAkB,GAAzB,UAA0B,MAAyB;QAE/C,IAAM,KAAK,GAAW,EAAE,CAAC;QACzB,MAAM,CAAC,OAAO,CAAC,UAAC,IAAI,EAAE,OAAO;YACzB,MAAM,CAAC,OAAO,CAAC,UAAC,EAAE,EAAE,KAAK;gBACrB,IAAI,OAAO,GAAG,KAAK,EAAE;oBACjB,IAAM,QAAQ,GAAG,cAAc,CAAC,QAAQ,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC;oBACnD,IAAM,GAAG,GAAM,OAAO,SAAI,KAAO,CAAC;oBAClC,KAAK,CAAC,IAAI,CAAC;wBACP,GAAG,EAAE,GAAG;wBACR,IAAI,EAAE,IAAI;wBACV,EAAE,EAAE,EAAE;wBACN,QAAQ,EAAE,QAAQ;qBACrB,CAAC,CAAC;iBACN;YACL,CAAC,CAAC,CAAC;QACP,CAAC,CAAC,CAAC;QACH,OAAO,KAAK,CAAC;IACjB,CAAC;IAAA,CAAC;IACN,qBAAC;AAAD,CAAC;;AAAA,CAAC;AAQD,CAAC;;;;;;;;;;;;;;AC/EF;AAAA;IAAA;IA8EA,CAAC;IA5EU,8BAAgB,GAAvB;QACI,OAAO,IAAI,CAAC,MAAM,EAAE,IAAI,GAAG,CAAC;IAChC,CAAC;IAAA,CAAC;IAGK,oCAAsB,GAA7B,UAA8B,GAAW,EAAE,GAAW,EAAE,MAAc;QAClE,IAAM,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,EAAE,EAAE,MAAM,CAAC,CAAC;QAClC,OAAO,aAAa,CAAC,mBAAmB,CAAC,GAAG,GAAG,IAAI,EAAE,GAAG,GAAG,IAAI,CAAC,GAAG,IAAI,CAAC;IAC5E,CAAC;IAAA,CAAC;IAEK,iCAAmB,GAA1B,UAA2B,GAAW,EAAE,GAAW;QAC/C,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC;IAC7D,CAAC;IAAA,CAAC;IAEK,0BAAY,GAAnB,UAAoB,MAAe;QAC/B,IAAM,CAAC,GAAG,aAAa,CAAC,gBAAgB,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACpD,OAAO,aAAa,CAAC,oBAAoB,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;IAC1D,CAAC;IAAA,CAAC;IAEK,kCAAoB,GAA3B,UAA4B,MAAe;QACvC,OAAO,aAAa,CAAC,uBAAuB,CAAC,MAAM,CAAC,CAAC;IACzD,CAAC;IAAA,CAAC;IAEK,6BAAe,GAAtB,UAAuB,WAAoB,EAAE,aAAsB;QAC/D,IAAM,CAAC,GAAG,aAAa,CAAC,gBAAgB,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACpD,OAAO,aAAa,CAAC,uBAAuB,CAAC,WAAW,EAAE,aAAa,CAAC,GAAG,CAAC,CAAC;IACjF,CAAC;IAAA,CAAC;IAEK,qCAAuB,GAA9B,UAA+B,WAAoB,EAAE,aAAsB;QACvE,WAAW,GAAG,WAAW,IAAI,CAAC,CAAC;QAC/B,aAAa,GAAG,aAAa,IAAI,CAAC;QAClC,IAAI,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC,EAAE,EAAE,WAAW,GAAG,aAAa,CAAC,CAAC,CAAC;QACnF,IAAI,aAAa,KAAK,CAAC;YAAE,MAAM,GAAG,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,EAAE,EAAE,aAAa,CAAC,CAAC;QACvE,OAAO,MAAM,CAAC;IAClB,CAAC;IAAA,CAAC;IAGK,kBAAI,GAAX,UAAe,KAAU,EAAE,IAAsB;QAC7C,KAAK,CAAC,IAAI,CAAC,UAAC,CAAC,EAAE,CAAC;YACZ,OAAO,IAAI,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;QAC7B,CAAC,CAAC,CAAC;QACH,OAAO,KAAK,CAAC;IACjB,CAAC;IAAA,CAAC;IAEK,qBAAO,GAAd,UAAkB,KAAU;QACxB,IAAI,YAAY,GAAG,KAAK,CAAC,MAAM,CAAC;QAChC,IAAI,cAAc,CAAC;QACnB,IAAI,WAAW,CAAC;QAEhB,4CAA4C;QAC5C,OAAO,CAAC,KAAK,YAAY,EAAE;YAEvB,8BAA8B;YAC9B,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,YAAY,CAAC,CAAC;YACvD,YAAY,IAAI,CAAC,CAAC;YAElB,wCAAwC;YACxC,cAAc,GAAG,KAAK,CAAC,YAAY,CAAC,CAAC;YACrC,KAAK,CAAC,YAAY,CAAC,GAAG,KAAK,CAAC,WAAW,CAAC,CAAC;YACzC,KAAK,CAAC,WAAW,CAAC,GAAG,cAAc,CAAC;SACvC;QAED,OAAO,KAAK,CAAC;IACjB,CAAC;IAAA,CAAC;IAEK,yBAAW,GAAlB,UAAsB,MAAc;QAChC,IAAM,KAAK,GAAG,KAAK,CAAC,KAAK,CAAC,IAAI,EAAE,EAAE,MAAM,EAAE,MAAM,EAAE,CAAC,CAAC;QACpD,OAAO,KAAY,CAAC;IACxB,CAAC;IAAA,CAAC;IAEK,4BAAc,GAArB,UAAsB,KAAa,EAAE,GAAY;QAC7C,IAAM,IAAI,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC;QAC9C,IAAM,GAAG,GAAG,IAAI,MAAM,CAAC,MAAM,GAAG,KAAK,GAAG,WAAW,EAAE,GAAG,CAAC,CAAC;QAC1D,IAAM,MAAM,GAAG,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAC9B,OAAO,MAAM,CAAC,CAAC,CAAC,kBAAkB,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;IACzD,CAAC;IAAA,CAAC;IACN,oBAAC;AAAD,CAAC;;AAAA,CAAC;;;;;;;;;;;;;;;;AC/E8C;AACQ;AAExD,IAAI,CAAC,SAAS,GAAG,UAAU,OAAO;IAC9B,IAAM,SAAS,GAAG,OAAO,CAAC,IAAI;IAC9B,IAAM,KAAK,GAAG,8DAAc,CAAC,kBAAkB,CAAC,SAAS,CAAC,CAAC;IAC3D,IAAM,aAAa,GAAG,4DAAa;SAC9B,IAAI,CAAC,KAAK,EAAE,WAAC,IAAI,QAAC,CAAC,QAAQ,EAAV,CAAU,CAAC;SAC5B,MAAM,CAAC,WAAC,IAAI,QAAC,CAAC,QAAQ,GAAG,GAAG,EAAhB,CAAgB,CAAC;SAC7B,KAAK,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;IAEpB,IAAM,WAAW,GAAG,aAAa,CAAC,GAAG,CAAC,WAAC,IAAI,QAAC,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,EAAE,CAAC,EAAd,CAAc,CAAC,CAAC;IAC3D,yBAAyB;IACzB,gBAAgB;IAEhB,WAAW,CAAC,WAAW,EAAE,SAAS,CAAC,CAAC;AACxC,CAAC,CAAC","file":"bundle.UpdateTextNodeWorker.041b5b4ae0a74d0203ad.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./app_src/UpdateTextNodeWorker.ts\");\n","import { CommonUtility } from './CommonUtility';\n\nexport class BabylonUtility {\n\n\n    static distance(v1: BABYLON.Vector3, v2: BABYLON.Vector3) {\n        var dx = v1.x - v2.x;\n        var dy = v1.y - v2.y;\n        var dz = v1.z - v2.z;\n\n        return Math.sqrt(dx * dx + dy * dy + dz * dz);\n    };\n\n    static addVector(v1: BABYLON.Vector3, v2: BABYLON.Vector3) {\n        return new BABYLON.Vector3(\n            v1.x + v2.x,\n            v1.y + v2.y,\n            v1.z + v2.z\n        );\n    };\n\n    static subtractVector(v1: BABYLON.Vector3, v2: BABYLON.Vector3) {\n        return new BABYLON.Vector3(\n            v1.x - v2.x,\n            v1.y - v2.y,\n            v1.z - v2.z\n        );\n    };\n    \n    static getRandomVector3(randomOnX = true, randomOnY = true, randomOnZ = true) {\n        return new BABYLON.Vector3(\n            randomOnX ? CommonUtility.getRandomInt() : 0,\n            randomOnY ? CommonUtility.getRandomInt() : 0,\n            randomOnZ ? CommonUtility.getRandomInt() : 0\n        ).normalize();\n    };\n\n\n    static updatePosition(position: BABYLON.Vector3, translateVector: BABYLON.Vector3, scale: number) {\n        position.x += (translateVector.x * scale);\n        position.y += (translateVector.y * scale);\n        position.z += (translateVector.z * scale);\n    };\n\n\n    static positionToString(position: BABYLON.Vector3) {\n        const positions = ['x', 'y', 'z'].map(k => {\n            return position[k].toFixed(2);\n        });\n        return positions.join(', ');\n    };\n\n\n    static getLineToEachOther(points: BABYLON.Vector3[]) {\n\n        const lines: Line[] = [];\n        points.forEach((from, iOfFrom) => {\n            points.forEach((to, iOfTo) => {\n                if (iOfFrom < iOfTo) {\n                    const distance = BabylonUtility.distance(from, to);\n                    const key = `${iOfFrom}-${iOfTo}`;\n                    lines.push({\n                        key: key,\n                        from: from,\n                        to: to,\n                        distance: distance\n                    });\n                }\n            });\n        });\n        return lines;\n    };\n};\n\n\nexport interface Line {\n    key: string,\n    from: BABYLON.Vector3,\n    to: BABYLON.Vector3,\n    distance: number\n};","\nexport class CommonUtility {\n\n    static getRandomBoolean() {\n        return Math.random() >= 0.5;\n    };\n\n\n    static getRandomNumberInRange(min: number, max: number, digits: number) {\n        const rate = Math.pow(10, digits);\n        return CommonUtility.getRandomIntInRange(min * rate, max * rate) / rate;\n    };\n\n    static getRandomIntInRange(min: number, max: number) {\n        return Math.floor(Math.random() * (max - min + 1)) + min;\n    };\n\n    static getRandomInt(digits?: number) {\n        const r = CommonUtility.getRandomBoolean() ? 1 : -1;\n        return CommonUtility.getRandomNegativeInt(digits) * r;\n    };\n\n    static getRandomNegativeInt(digits?: number) {\n        return CommonUtility.getRandomNegativeNumber(digits);\n    };\n\n    static getRandomNumber(digitsOnInt?: number, digitsOnFloat?: number) {\n        const r = CommonUtility.getRandomBoolean() ? 1 : -1;\n        return CommonUtility.getRandomNegativeNumber(digitsOnInt, digitsOnFloat) * r;\n    };\n\n    static getRandomNegativeNumber(digitsOnInt?: number, digitsOnFloat?: number) {\n        digitsOnInt = digitsOnInt || 1;\n        digitsOnFloat = digitsOnFloat || 0\n        let result = Math.round(Math.random() * Math.pow(10, digitsOnInt + digitsOnFloat));\n        if (digitsOnFloat !== 0) result = result / Math.pow(10, digitsOnFloat);\n        return result;\n    };\n\n\n    static sort<T>(array: T[], func: (e: T) => number) {\n        array.sort((a, b) => {\n            return func(a) - func(b);\n        });\n        return array;\n    };\n\n    static shuffle<T>(array: T[]) {\n        let currentIndex = array.length;\n        let temporaryValue;\n        let randomIndex;\n\n        // While there remain elements to shuffle...\n        while (0 !== currentIndex) {\n\n            // Pick a remaining element...\n            randomIndex = Math.floor(Math.random() * currentIndex);\n            currentIndex -= 1;\n\n            // And swap it with the current element.\n            temporaryValue = array[currentIndex];\n            array[currentIndex] = array[randomIndex];\n            array[randomIndex] = temporaryValue;\n        }\n\n        return array;\n    };\n\n    static createArray<T>(length: number) {\n        const array = Array.apply(null, { length: length });\n        return array as T[];\n    };\n\n    static getQueryString(field: string, url?: string) {\n        const href = url ? url : window.location.href;\n        const reg = new RegExp('[?&]' + field + '=([^&#]*)', 'i');\n        const string = reg.exec(href);\n        return string ? decodeURIComponent(string[1]) : null;\n    };\n};","import { CommonUtility } from './CommonUtility';\nimport { BabylonUtility, Line } from './BabylonUtility';\n\nself.onmessage = function (message) {\n    const textNodes = message.data\n    const lines = BabylonUtility.getLineToEachOther(textNodes);\n    const linesToSelect = CommonUtility\n        .sort(lines, l => l.distance)\n        .filter(l => l.distance > 0.2)\n        .slice(0, 1200);\n\n    const linesToDraw = linesToSelect.map(l => [l.from, l.to]);\n    //.shuffle(linesToSelect)\n    //.slice(0, 900)\n\n    postMessage(linesToDraw, undefined);\n};"],"sourceRoot":""}